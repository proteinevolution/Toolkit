@*
 * Copyright 2018 Dept. Protein Evolution, Max Planck Institute for Developmental Biology
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import de.proteinevolution.results.results.HHrepID
@(jobID : String, filePath : String)

@ncoils = @{"/results/files/" + jobID + "/" + jobID + "_ncoils.png"}
@psipred = @{"/results/files/" + jobID + "/" + jobID + "_psipred.png"}
@repper = @{"/results/files/" + jobID + "/" + jobID + "_repper.png"}
@overview = @{"/results/files/" + jobID + "/" + jobID + "_overview.png"}
    
@ncoilsFile = @{filePath + "_ncoils.png"}
@psipredFile = @{filePath + "_psipred.png"}
@repperFile = @{filePath + "_repper.png"}
@overviewFile = @{filePath + "_overview.png"}

<div class="notePlain">
<span>PSIPRED</span>
<br/><hr><br/>
@if(HHrepID.existsResult(psipredFile)){
    <img hspace="100" src="@psipred">
}
<br/><br/><br/>
<span>PCOILS</span>
<br/><hr><br/>
@if(HHrepID.existsResult(ncoilsFile)){
    <img hspace="100" src="@ncoils">
}
<br/><br/><br/>
<span>FTwin</span>
<br/><hr><br/>
@if(HHrepID.existsResult(overviewFile)){
    <img hspace="100" src="@overview">
    <table class="unstriped repperTable"><tbody class="alignmentTBody"><tr>
        <td>Significance: low</td> <td><div id="repperGrad"></div></td><td>high</td>
    </tr></tbody></table>
} else{
    <br />
    <p>No periodicity spectrum found!</p>
}
<br/><br/><br/>
<span>REPwin</span>
<br/><hr><br/>
@if(HHrepID.existsResult(repperFile)){
    <img hspace="100" src="@repper">
    <table class="unstriped repperTable"><tbody class="alignmentTBody"><tr>
        <td>Significance: low</td> <td><div id="repperGrad"></div></td><td>high</td>
    </tr></tbody></table>
} else{
    <br />
    <p>No significant repeats found for given values!</p>
}
<br/><br/>
<br/><hr><br/>
</div>
<div id="toolReferences">
        If you use our REPPER server for your research, please cite:
        <div class="citation">
            @views.html.modals.toolkit_citation_results()
            <br>
            <div>REPPER--repeats and their periodicities in fibrous proteins<br>
                Gruber M, Söding J, Lupas AN.<a href="https://academic.oup.com/nar/article-lookup/doi/10.1093/nar/gki405" target="_blank" rel="noopener"> Nucleic Acids Res. 2005 Jul 1;33(Web Server issue):W239-43</a>
            </div>
        </div>
        And one or more of the following as appropriate:
        <div class="citation">
            <div>PSIPRED: Protein secondary structure prediction based on position-specific scoring matrices.<br>
                Jones DT.<a href="http://www.sciencedirect.com/science/article/pii/S0022283699930917?via%3Dihub" target="_blank" rel="noopener"> J Mol Biol. 1999 Sep 17;292(2):195-202</a></div><br>
            <div>PCOILS: Comparative analysis of coiled-coil prediction methods.<br>
                Gruber M, Söding J, Lupas AN.<a href="http://www.sciencedirect.com/science/article/pii/S1047847706000815?via%3Dihub" target="_blank" rel="noopener"> J Struct Biol. 2006 Aug;155(2):140-5</a></div>
        </div>
            <hr class="horizontal-line">
</div>
