package models.results

/**
 *
 * Created by snam on 18.10.16.
 *
 * Tool model for parsing result files
 *
 */
import models.Constants
import net.ruippeixotog.scalascraper.browser.JsoupBrowser

import scala.io.Source
import modules.parsers.FASTA
import net.ruippeixotog.scalascraper.dsl.DSL._
import net.ruippeixotog.scalascraper.dsl.DSL.Extract._
import net.ruippeixotog.scalascraper.dsl.DSL.Parse._
import net.ruippeixotog.scalascraper.model.Element
import better.files._
import play.api.Logger

object PsiBlast extends Constants {


  val browser = JsoupBrowser()


  /* reads the evalues.dat file from the job directory and returns the evalues as a list */

  def evalues(mainID: String) : List[String] = {

    val path = s"$jobPath$mainID/results/evalues"
    Source.fromFile(path).getLines().toList
  }


  /* returns the blastviz html which is still generated by a perl script (TODO) */

  def blastviz(mainID: String) : String = {
    s"$jobPath$mainID/results/blastviz.html".toFile.contentAsString
  }



}

