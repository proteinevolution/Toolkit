package models.results

/**
  *
  * Created by snam on 18.10.16.
  *
  * Tool model for parsing result files
  *
  */
import models.Constants

import scala.io.Source
import better.files._

object PsiBlast extends Constants {

  /* reads the evalues.dat file from the job directory and returns the evalues as a list */

  def evalues(mainID: String): List[String] = {

    val path = s"$jobPath$mainID/results/evalues"
    val source  = Source.fromFile(path)
    try{source.getLines().toList}finally {source.close()}
  }

  /* returns the blastviz html which is still generated by a perl script (TODO) */

  def blastviz(mainID: String): String = {
    s"$jobPath$mainID/results/blastviz.html".toFile.contentAsString
  }

}
