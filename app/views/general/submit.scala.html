@import play.api.mvc.RequestHeader
@import models.tel.TEL
@import models.database.Job
@(tel : TEL,  toolName : String, toolFrame: Html, jobOption : Option[Job])(implicit messages: Messages, request: RequestHeader)
<!--
    Javascript that holds for all tool input forms
-->
<script type="text/javascript" xmlns="http://www.w3.org/1999/html">
    toolname = '@toolName';
    @if(jobOption.isDefined){
      mainID   = '@{jobOption.get.mainID.stringify}';
    } else {
      mainID   = null;
    }
</script>
<h3>@{if (jobOption.isDefined) s"$toolName: ${jobOption.get.jobID}" else s"$toolName: New Job"}</h3>
<form class="jobForm">

        @toolFrame

</div>
@if(jobOption.isEmpty) {
    <!-- This is a new Job submission -->
    <input class="secondary button small" id="submitJob"     type="button" value="Submit Job" />
    <input class="secondary button small" id="prepareJob"    type="button" value="Prepare Job" />
    <input class="secondary button small" id="clearJobForm"  type="button" value="Clear form" />
    <input class="secondary button small" id="jobPermission" type="button" value="Permissions" />
    <div id="jobPermissionDiv" style="display: none;">
        <label for="jobID">Job Name</label>
        <input class="input"    type="text"     id="jobID"   name="jobID"   placeholder="Custom Job Name" style="width: 420px" />
        <label for="private">Job as Private</label>
        <input class="checkbox" type="checkbox" id="private" name="private" value="true" />
    </div>
} else {
    <!-- This is an already submitted job -->
    <input class="secondary button small" id="startJob" type="button" value="Start Job"/>
}
</form>

<script src="@routes.Assets.at("scripts/form.js")"></script>