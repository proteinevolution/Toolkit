@import play.api.mvc.RequestHeader
@import models.tools.Tool
@import java.time.ZonedDateTime
@import org.webjars.play.WebJarsUtil
@(webJarsUtil: WebJarsUtil, tools: Iterable[Tool], message: String = "", view: String = "")(implicit messages: Messages, request: RequestHeader)

<!DOCTYPE html>

<html>
    <head>
            <!-- Google Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Inconsolata:400,700|Noto+Sans:400,700|Roboto:300|Source+Code+Pro:400,700|Vollkorn:400,700" rel="stylesheet">

        <title>Bioinformatics Toolkit</title>

        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="charset" content="utf-8">

        <link rel="shortcut icon" href="@routes.Assets.versioned("images/favicons/favicon-32x32.png")">

        <link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css">


        <link href="@routes.Assets.versioned("styles/hamburgers.min.css")" rel="stylesheet">
        <link href="@routes.Assets.versioned("styles/global.min.css")" rel="stylesheet">
        <link href="@routes.Assets.versioned("styles/nice-select.css")" rel="stylesheet">
        <link href="@routes.Assets.versioned("styles/blast-visualization.css")" rel="stylesheet">
        <link href="@routes.Assets.versioned("styles/mfglabs_iconset.css")" rel="stylesheet">
        @Html(webJarsUtil.css("font-awesome.min.css"))
        <link href="@routes.Assets.versioned("styles/sequence_coloring.css")" rel="stylesheet">
        <link href="@routes.Assets.versioned("styles/hhpred_slider.css")" rel="stylesheet">

        <link href="@routes.Assets.versioned("styles/motion-ui.css")" rel="stylesheet">

        @Html(webJarsUtil.css("slick.css"))
        @Html(webJarsUtil.css("slick-theme.css"))

        <!-- JQuery -->
        @Html(webJarsUtil.script("3.2.1/jquery.min.js"))
        @Html(webJarsUtil.script("jquery.lazyload.js"))
        @Html(webJarsUtil.script("jquery-ui.js"))

        <script src="@routes.Assets.versioned("javascripts/vendor/newick.js")" type="text/javascript"></script>
        <script src="@routes.Assets.versioned("javascripts/vendor/jquery.nice-select.js")" type="text/javascript"></script>

        <link href="@routes.Assets.versioned("styles/index.css")" rel="stylesheet">
        <link href="@routes.Assets.versioned("styles/reformat.css")" rel="stylesheet">
        <link href="@routes.Assets.versioned("styles/reformat-common.css")" rel="stylesheet">
        <link href="@routes.Assets.versioned("styles/reformat-jobview.css")" rel="stylesheet">
        <link href="@routes.Assets.versioned("styles/jobview.css")" rel="stylesheet">
        <link href="@routes.Assets.versioned("styles/joblist.css")" rel="stylesheet">
        <link href="@routes.Assets.versioned("styles/news.css")" rel="stylesheet">
        <link href="@routes.Assets.versioned("styles/offcanvas.css")" rel="stylesheet">

            <!-- Mithril -->

        @Html(webJarsUtil.script("mithril.min.js"))

            <!-- Velocity -->
        @Html(webJarsUtil.script("velocity.min.js"))

        @Html(webJarsUtil.script("4.10.2/d3.min.js"))
        <script src="@routes.Assets.versioned("javascripts/vendor/d3.layout.min.js")" type="text/javascript"></script>

            <!-- Highcharts -->
        @Html(webJarsUtil.script("5.0.14/highcharts.js"))

            <!-- Clipboard-->
        @Html(webJarsUtil.script("clipboard.min.js"))

            <!-- Select2 -->
        @Html(webJarsUtil.css("select2.min.css"))
        @Html(webJarsUtil.script("select2.min.js"))


            <!-- NGL 3D Viewer -->
        <script src="@routes.Assets.versioned("javascripts/vendor/ngl.js")"></script>

            <!-- Typeahead.js -->

        <script src="@routes.Assets.versioned("javascripts/vendor/typeahead.jquery.min.js")"></script>

            <!-- VISIBLE -->
        <script src="@routes.Assets.versioned("javascripts/vendor/jquery.visible.min.js")"></script>

            <!-- Loadingoverlay -->
        <script src="@routes.Assets.versioned("javascripts/vendor/loadingoverlay.js")"></script>

            <!-- Title notifier -->
        <script src="@routes.Assets.versioned("javascripts/vendor/title_notifier.js")"></script>


            <!-- Slick Slider -->
        @Html(webJarsUtil.script("slick.min.js"))

            <!-- Tooltipster -->
        @Html(webJarsUtil.css("tooltipster.bundle.min.css"))
        @Html(webJarsUtil.script("tooltipster.bundle.min.js"))

            <!-- MOMENT.JS -->
        @Html(webJarsUtil.script("moment.min.js"))

            <!-- FloatingScroll -->
        <script src="@routes.Assets.versioned("javascripts/vendor/floatingscroll.min.js")" type="text/javascript"></script>
        <link href="@routes.Assets.versioned("styles/floatingscroll.css")" rel="stylesheet">

            <!-- Codemirror -->
        @Html(webJarsUtil.script("codemirror.js"))
        @Html(webJarsUtil.css("codemirror.css"))
        @Html(webJarsUtil.script("javascript.js"))

        <link href="@routes.Assets.versioned("styles/custom.css")" rel="stylesheet">


            <!-- Datatables -->
        @Html(webJarsUtil.css("dataTables.foundation.min.css"))
        @Html(webJarsUtil.script("jquery.dataTables.min.js"))
        @Html(webJarsUtil.script("dataTables.foundation.min.js"))

            <!-- Javascript Router -->
        <script type="text/javascript" src="@routes.Application.javascriptRoutes"></script>

    </head>
    <body onload="reloadJobList();">
        <input type="hidden" id="authView" value="@view">

        <div id="message-float" style="position: fixed;
            top: 0px;
            left: 0px;
            width: 100%;
            text-align: center;
            z-index: 1000;">
            <div id="message-container" data-closable data-close class="callout" @if(message == "") {
                hidden="hidden"
            } style="text-align: center;
                position: relative;
                height: 50px;
                padding: 10px;
                margin: 0 auto;">
            @{
                message
            }
            </div>
        </div>

        <div id="main-container">

            <div id="main" class="row" style="max-width: 75rem;
                margin: 0 auto">
                <div class="small-12 padded-column columns">


                    <div class="row">
                        <div class="small-12 padded-column columns">

                                <!---All purpose Modal --->
                            <div id="modal" class="reveal large" data-reveal>
                                <button class="close-button" data-close aria-label="Close modal" type="button">
                                    <span aria-hidden="true">&times;</span>
                                </button></div>

                                <!---Hamburger Navbar --->
                            <div id="myNav" class="overlay">
                                <button id="hamburgerInside" class="hamburger hamburger--elastic is-active" type="button" onclick="closeNav()">
                                    <span class="hamburger-box">
                                        <span class="hamburger-inner overlayed"></span>
                                    </span>
                                </button>
                                    <!--<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>-->
                                <div class="overlay-content" id="overlay-content">
                                    <div class="mithril-overlay-content" id="mithril-overlay-content"></div>
                                </div>
                            </div>


                                <!---Navigation Bar --->
                            <div class="row" id="metanav">
                                <div id="metauser"></div> <!-- TODO: ugly construction -->
                                <div id="social">
                                    <a href="https://www.facebook.com/mpitoolkit" target="_blank"><i class="icon-facebook"></i></a>
                                    <a href="https://twitter.com/mpitoolkit" target="_blank"><i class="icon-twitter"></i></a>
                                </div>
                            </div>


                            <div class="row show-for-large" id="navcontainer">

                                    <!--logo-->
                                <div class="large-2 columns" id="mainlogo">
                                    <a href="/#/">
                                        <div class="row">
                                            <div class="column large-6" id="mainface">
                                                <img style="width: 70%;
                                                    margin-bottom: 2em;" src="@routes.Assets.versioned("images/minlogo.svg")">
                                            </div>
                                            <div class="column large-6" id="mainlabel">
                                                MPI Bioinformatics Toolkit
                                            </div>
                                        </div>
                                    </a>
                                    <div class="maintenance_alert">
                                        <i class="fa fa-wrench" aria-hidden="true"></i><b>
                                        Maintenance in a few seconds!</b>
                                    </div>
                                </div>
                                    <!--navbar-->
                                <div class="large-10 columns show-for-large">
                                    <div class="row">
                                        <div class="columns large-10" style="padding-left: 4em;
                                            padding-right: 1.4em;">
                                        @elements.navbar(tools)
                                        </div>
                                        <div class="columns large-2">
                                                <!--offline callout-->
                                            <div class="alert callout" id="offline-alert" onclick="window.location.reload()"><i class="icon-retweet" id="rcnbtn"></i>
                                                Reconnecting...</div>
                                        </div>
                                    </div>
                                </div>


                            </div>

                                <!--Off Canvas Menu for mobile version of Toolkit-->
                            <div class="off-canvas-wrapper">
                                <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>
                                    <div class="off-canvas position-left" id="offCanvas" data-off-canvas>
                                        @elements.offcanvas(tools)
                                        <div id="off-canvas-joblist"></div>
                                    </div>

                                        <!---Off Canvas Content includes main content--->
                                    <div class="off-canvas-content" data-off-canvas-content>
                                        <div class="title-bar hide-for-large">
                                            <div class="title-bar-left">
                                                <button id="hambutton" type="button" data-open="offCanvas"><i class="icon-reorder icon2x"></i></button>
                                            </div>
                                        </div>
                                    </div>

                                        <!--- Mount points for Mithril Application -->
                                    <div class="row">
                                        <div class="large-2 padded-column columns show-for-large" id="sidebar" style="display: none;"></div>
                                        <div id="main-content">
                                            <noscript><div class="noscript">It's okay to hate JavaScript... <br/>
                                                ...but you won't be able to use this website properly! <!-- or another slogan --></div></noscript>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>
                </div>
                <footer class="row" id="app">
                    <div class="columns large-12">
                        <div id="sub-nav">
                            <a data-open="subnavHelpModal">Help</a>
                            <a data-open="subnavFAQModal">FAQ</a>
                            <a data-open="privacyPolicyModal">Privacy Policy</a>
                            <a data-open="imprintModal">Imprint</a>
                            <a data-open="contactModal">Contact Us</a>
                            <a data-open="citeModal">Cite Us</a>
                            <a data-open="recentUpdatesModal">Recent Updates</a>
                        </div>
                        <div id="socket">
                            © 2008-@(ZonedDateTime.now.getYear), Dept. of Protein Evolution, Max Planck Institute for Developmental Biology, Tübingen</div>
                    </div>
                </footer>
            </div>
        </div>

            <!-- scroll-top arrow -->
        <div id="scrollTop"></div>


        <div class="small reveal helpModals" id="imprintModal" data-reveal>
            @helpmodals.imprintmodal()
            <button class="close-button" data-close aria-label="Close modal" type="button">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>

        <div class="small reveal helpModals" id="subnavHelpModal" data-reveal>
            @helpmodals.helpmodal()
            <button class="close-button" data-close aria-label="Close modal" type="button">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>

        <div class="small reveal helpModals" id="subnavFAQModal" data-reveal>
            @helpmodals.faqmodal()
            <button class="close-button" data-close aria-label="Close modal" type="button">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>

        <div class="small reveal helpModals" id="privacyPolicyModal" data-reveal>
            @helpmodals.privacypolicymodal()
            <button class="close-button" data-close aria-label="Close modal" type="button">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>

        <div class="small reveal helpModals" id="contactModal" data-reveal>
            @helpmodals.contactmodal()
            <button class="close-button" data-close aria-label="Close modal" type="button">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>

        <div class="small reveal helpModals" id="citeModal" data-reveal>
            @helpmodals.citemodal()
            <button class="close-button" data-close aria-label="Close modal" type="button">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>

        <div class="small reveal helpModals" id="recentUpdatesModal" data-reveal>
            @helpmodals.recentupdatesmodal()
            <button class="close-button" data-close aria-label="Close modal" type="button">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>

        @help.modal()



            <!-- Foundation 6 -->
        @Html(webJarsUtil.script("foundation.min.js"))


            <!-- Reformat Javascript Library -->
        <script src="@routes.Assets.versioned("javascripts/vendor/reformat/src/reformat.js")"></script>


            <!-- TypeScript && Mithril Assets -->

        <script src="@routes.Assets.versioned("javascripts/blast-visualization.js")"></script>
        <script src="@routes.Assets.versioned("javascripts/vendor/msa.min.js")" type="text/javascript"></script>
        <script src='@routes.Assets.versioned("javascripts/vendor/biojs-io-newick.min.js")'></script>
        <script src='@routes.Assets.versioned("javascripts/vendor/biojs-vis-tree.min.js")'></script>
        <script src='@routes.Assets.versioned("javascripts/vendor/snap.svg-min.js")'></script>
        <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css" />
        <script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
        <script src="@routes.Assets.versioned("javascripts/typescriptc.js")"></script>

            <!-- ScalaJS assets -->

        @scalajs.html.scripts("client", routes.Assets.versioned(_).toString, name => getClass.getResource(s"/public/$name") != null)
        <script>Router().main();</script>
    </body>
</html>






