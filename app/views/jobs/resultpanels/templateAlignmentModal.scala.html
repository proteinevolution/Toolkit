<div class="reveal" id="templateAlignmentModal" data-reveal>
    <p>Template Alignment (~100 most distinct sequences)</p>
    <div>
        <select class="alignmentTemplateToolSelect">
            <option value="" selected>Forward To</option>
            <option value="formatseq" >FormatSeq</option>
            <option value="hhblits" >HHblits</option>
            <option value="hhomp" >HHomp</option>
            <option value="hhpred" >HHpred</option>
            <option value="hhrepid" >HHrepID</option>
        </select>
    </div>
    <textarea rows="35" class="alignmentTemplateTextArea" placeholder="Loading..." spellcheck="false"></textarea>
    <button class="close-button" id="alignmentTemplateClose" data-close aria-label="Close modal" type="button">
        <span aria-hidden="true">&times;</span>
    </button>
</div>

<script>
    var templateAlignmentModal = $("#jobview").find('#templateAlignmentModal');
    templateAlignmentModal.foundation();
    templateAlignmentModal.find(".alignmentTemplateToolSelect").on("click", function () {
        var forwardData = templateAlignmentModal.find('.alignmentTemplateTextArea').val();
        var tool = this.value;
        if (tool === "") {
            return;
        }
        $('#templateAlignmentModal').foundation('close');
        Forwarding.simple(tool, forwardData);
    });
    templateAlignmentModal.on("closed.zf.reveal", function () {
        templateAlignmentModal.find(".alignmentTemplateToolSelect").val("");
        $.LoadingOverlay("hide");
    })
</script>