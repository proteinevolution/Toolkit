@import play.twirl.api.TwirlFeatureImports.defining
@(filename: String, jobID: String, resultname: String)()

@defining(s"fileview_$resultname") { id: String =>
    <div class="colorOptsAlignment">
        <a type="button" id="download_alignment">Download</a>
        <hr class="horizontal-line">
        <pre class="fileview" id="@id"></pre>
    </div>
}

<script>
    $(function () {
       new FileView().apply("@{jobID}", "@{filename}", "@{resultname}");
    });

     //using both functions is not pretty and somewhat redundant but gets the job done
     $( "#fileviewerDownload_@{resultname}" ).ready(function() {
         if ($('#tool-tabs').hasClass('fullscreen')) {
             $(".fileview").css({"overflow-y": "visible", "height": "100pc"});
         } else {
             $(".fileview").css("height", "30pc");
         }
     });

     function onExpand() {
         $(".fileview").css({"overflow-y": "visible", "height": "100pc"});
     }
     function onCollapse() {
         $(".fileview").css("height", "30pc");
     }
</script>
