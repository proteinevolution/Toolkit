include "tel.conf"
include "tools.conf"
include "params.conf"
include "blacklist.conf"


toolkit_mode = "dev"

akka {

  actor.provider = "akka.cluster.ClusterActorRefProvider"
  jvm-exit-on-fatal-error = false
  remote.netty.tcp.port=0
  remote.netty.tcp.hostname=127.0.0.1

}

# Set POST max text size
play.http.parser.maxMemoryBuffer = 64000k

# Actors
play.modules.enabled += "modules.ActorModule"


play.modules.enabled += "play.modules.reactivemongo.ReactiveMongoModule"

mongodb.uri = "mongodb://balata.eb.local:27017/tkplay_dev"


elastic4s {
  clusters {
    myCluster {
      type: "transport"               // <-- either "transport" or "node"
      cluster.name: "elasticsearch"       // <-- set your cluster name here
      uri: "elasticsearch://balata:9300"  // <-- if using transport client, pass uri to the cluster
    }
  }
  indexAndTypes {                        // <-- this section is not required, but
    users {                             //     this index/type pair will be injectable later
      index: "tkplay_dev"
      type: "users"
    }
    jobs {
      index: "tkplay_dev"
      type: "jobs"
    }
    jobshashes {
      index: "tkplay_dev"
      type: "jobhashes"
    }
  }
}


kamon {
  # Disable warnings for missing weaving, would be printed in run mode + tests
  metrics.disable-aspectj-weaver-missing-error = true
  trace {
    # trace level 'simple-trace' needed for tracing subscription (slow request logging)
    level = "simple-trace"
    # sampling: we use the threshold sampler that gathers tracing information for all traces but only reports
    # those whose elapsed-time is equal or greated to the specified threshold.
    sampling = "threshold"
    threshold-sampler {
      # Duration format: https://github.com/typesafehub/config/blob/master/HOCON.md#duration-format
      minimum-elapsed-time = 100 milliseconds
    }
  }
}


play.modules.enabled += "com.evojam.play.elastic4s.Elastic4sModule"

# Play Framework cache name definitons
# ~~~~~
#
play.cache.bindCaches = ["userCache", "wsActorCache", "jobCache", "viewCache", "toolitemCache", "jobActorCache", "jobitem"]

# geoIP

maxmindDB = "/ebio/abt1_share/toolkit_support1/data/GeoLite2-City.mmdb"


# Play Framework session cookie config
# ~~~~~
# Cookie maximum age in ms
play.http.session.maxAge = 1209600000 # 14 days

# allow client side session cookie
play.http.session.httpOnly=false

# CSRF Configuration

play.filters.csrf.cookie.name = "CSRF-Token"
play.filters.csrf.header.name = "X-CSRF-Token"

# GZip filter configuration
gzip {

  # The buffer size to use for gzipped bytes
  bufferSize = 8k

  # The maximum amount of content to buffer for gzipping in order to calculate the content length before falling back
  # to chunked encoding.
  chunkedThreshold = 100k

}

# scripts
serverScripts = "lib/"

#DYNAMIC PROP KEY/VALUE PAIRS

DBROOT = "/ebio/abt1_share/toolkit_sync/databases"

ENVIRONMENT = "/ebio/abt1_share/toolkit_support1/code/bioprogs/env/environment.sh"

HELPER = "/ebio/abt1_share/toolkit_support1/code/bioprogs/helpers"

PERLLIB = "/ebio/abt1_share/toolkit_support1/code/bioprogs/lib"

STANDARDDB = "/ebio/abt1_share/toolkit_sync/databases/standard"