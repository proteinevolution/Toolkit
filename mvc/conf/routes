# Routes
# This file defines all application routes (Higher priority routes first)


# IMPORTANT: Comments appended to a valid line are not permitted\
# IMPORTANT: Controllers are now injected, do not forget the '@' prefix
# ~~~~

############################################################################
# Toolkit related routes
############################################################################

# Index Page requested by user. Note that the controller is injected
GET         /                                              @controllers.Application.index

# Websocket
GET         /ws                                            @controllers.Application.ws


# Serve files
GET         /files/:jobid/:filename                        @controllers.Application.file(filename: String, jobid: String)



# Assets
GET         /webjars/*file                                 controllers.WebJarAssets.at(file)
GET         /assets/*file                                  controllers.Assets.at(path="/public", file)


# Route for direct get requests
GET         /tools/:toolname                               @controllers.Application.showTool(toolname : String)
GET         /jobs/:jobid                                   @controllers.Application.showJob(jobid: String)

# File Uploader

POST       /upload                                         @controllers.Application.upload()


# Contact

GET         /contact                                       @controllers.Application.contact()

# Routes for Auth Service
GET         /signin                                        @controllers.Auth.signIn(username : String = "")
GET         /signin/:username                              @controllers.Auth.signIn(username : String)
POST        /signin/submit/                                @controllers.Auth.signInSubmit()
GET         /signup                                        @controllers.Auth.signUp()
POST        /signup/submit/                                @controllers.Auth.signUpSubmit()
GET         /signout                                       @controllers.Auth.signOut()
GET         /verification/:name_login/:token               @controllers.Auth.verification(name_login,token)

# Get the input form of the tools
POST        /tools/form/:toolname                          @controllers.Application.form(toolname : String)


# Submit Route
POST        /tools/:toolname                               @controllers.Tool.submit(toolname : String, start : Boolean, jobID: Option[Int])


# Interaction with Jobs
# Show all jobs a user has
#GET         /jobs/show/:userid              @controllers.Service.showJobs(userid: Long)
# Look up jobs with the matching job_id
#POST        /jobs/search/:jobid             @controllers.Service.findJobID(jobid: String)
# Loading a Job from the DB
#POST        /jobs/add/:jobid                @controllers.Service.addJobID(jobid: String)
# Get a Job the User Actor already has loaded
GET         /jobs/get/:jobid                               @controllers.Service.getJob(jobid : Int)
# Delete a Job
POST        /jobs/del/:jobid                               @controllers.Service.delJob(jobid : Int)

GET         /static/get/:static                                @controllers.Service.static(static : String)
# Add a Child Job
#POST        /jobs/addChild                  @controllers.Service.addChild
# Clear a Job
#POST        /jobs/clear/:jobid              @controllers.Service.clearJob(jobid: String)

# Sitemap
# Routes for static assets
GET         /:static                                       @controllers.Application.static(static : String)